<!DOCTYPE html>
<html>
  <%include ../partial/head.ejs%>
  <body>
    <div class="ui container" style="margin-top:3em;">
      <h1><%=title%> List</h1>
      <%include ../partial/menu.ejs%>
      <div class="column">
        <table class="ui celled selectable right aligned table">
          <thead class="left aligned">
            <th class="center aligned one wide">NO</th>
            <th class="center aligned one wide">ID</th>
            <th>Subject Name</th>
            <th>Teachers</th>
            <th>Action</th>
            <th class="center aligned three wide">Option</th>
          </tr></thead>
          <tbody class="left aligned">
            <%subjects.forEach((subject,i) => {%>
              <tr>
                <td class="center aligned"><%=i+1%></td>
                <td class="center aligned"><%=subject.id%></td>
                <td><%=subject.subject_name%></td>
                <td>
                  <%if(subject.Teachers.length > 0){
                    subject.Teachers.forEach(teacher => {%>
                      <ol>
                        <li><%=teacher.getFullname()%></li>
                      </ol>
                  <%})
                    }else{%>
                    unassign
                  <%}%>
                </td>
                <td><a href="/subjects/<%=subject.id%>/enrolledstudents">Enrolled Students</a></td>
                <td class="center aligned">
                  <div class="ui buttons">
                    <a class="ui blue button" href="/subjects/edit/<%=subject.id%>">Edit</a>
                    <div class="or"></div>
                    <a class="ui red button" href="/subjects/delete/<%=subject.id%>">Delete</a>
                  </div>
                </td>
              </tr>
            <%})%>
          </tbody>
          <tfoot class="full-width">
            <tr>
              <th colspan="6">
                <a href="/subjects/add">
                  <div class="ui left floated small primary labeled icon button">
                    <i class="user icon"></i> Add Subject
                  </div>
                </a>
              </th>
            </tr>
          </tfoot>
        </table>
      </div>
    </div>
  </body>
</html>
