<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="../../assets/css/bulma.min.css" type="text/css">
  <link rel="stylesheet" href="../../assets/css/mystyle.css" type="text/css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" type="text/css">
  <title>Enroll Student - SchoolApp</title>
</head>
<body>

  <div class="tabs is-toggle is-fullwidth">
    <ul>
      <li><a href="/subjects"><span class="icon">
        <i class="fa fa-arrow-left"></i>
      </span>
      <span>BACK SUBJECT</span>
    </a></li>
    </ul>
  </div>

  <div class="container_enrolled">

    <%if(data_StudentSubject.length == 0){%>
      <div style="margin-top:-9px; margin-bottom:33px;" class="spinner"></div>
      <p style="text-align:center;">Belum ada siswa terdaftar, masukkan siswa ke subject. Jika sudah silahkan kembali ke halaman ini.</p>
    <%}else{%>
      <div style="text-align: center; margin-top:22px;">
        <p class="title is-2">Enrolled Students</p>
        <p class="subtitle is-4"><%=`- ${data_StudentSubject[0].Subject.subject_name} Subject Data -`%></p>
        <hr>
      </div>
      <table class="table is-striped is-fullwidth">
          <tr>
            <th><abbr title="Position">NO</abbr></th>
            <th>STUDENT NAME</th>
            <th style="width:120px; text-align:center;">SCORE</th>
            <th style="width:99px; text-align:center;">DESC</th>
          </tr>

          <% for(let i=0; i<data_StudentSubject.length; i++) {%>
            <%if(data_StudentSubject[i].Student !== null){%>
            <tr>
              <td>
                <%=[i+1]%>
              </td>
              <td>
                <%=`${data_StudentSubject[i].Student.getFullname()}`%>
              </td>
              <td>
                <a href="/subjects/<%=data_StudentSubject[i].id%>/givescore" class="button is-small"style="width:120px; text-align:center;">Give Score</a>
              </td>
              <% if(data_StudentSubject[i].score >= 88){ %>
                <td style="font-weight:bold; text-align:center;">A</td>
              <% }else if(data_StudentSubject[i].score >= 78){ %>
                <td style="font-weight:bold; text-align:center;">B</td>
              <% }else if(data_StudentSubject[i].score >= 65){ %>
                <td style="font-weight:bold; text-align:center;">C</td>
              <% }else if(data_StudentSubject[i].score >= 50){ %>
                <td style="font-weight:bold; text-align:center;">D</td>
              <% }else if(data_StudentSubject[i].score <= 50 && data_StudentSubject[i].score !== null ){ %>
                <td style="font-weight:bold; text-align:center;">E</td>
              <% }else if(data_StudentSubject[i].score === null){ %>
                <td style="text-align:center;">
                  <div style="font-size: 0.8em;text-align:center;">
                    <i class="fa fa-circle-o-notch fa-spin fa-lg fa-fw"></i>
                    <span class="sr-only">Loading...</span>
                  </div>
                </td>
              <% } %>
            </tr>
            <%}%>
          <%}%>
        </table>
    <%}%>
  </div>
</body>
</html>
