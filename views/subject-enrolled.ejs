<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Home</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  </head>
  <body>
    <div class="container">
      <header>
        <ul class="nav nav-tabs">
          <li class=""><a href="/">Home</a></li>
          <li><a href="/teachers">Teachers</a></li>
          <li><a href="/subjects">Subjects</a></li>
          <li><a href="/students">Students</a></li>
        </ul>
      </header>
      <div class="">
        <div class="text-center">
          <h1><%= rows.subject_name %></h1>
          <a href="/subjects">Return to Subject List</a>
        </div>
        <hr>
        <table class="table table-bordered">
          <thead>
            <tr>
              <th>NO.</th>
              <th>Students</th>
              <th>Score</th>
            </tr>
          </thead>
          <% let no = 1%>
          <% rows.Students.forEach(dataStudent=>{%>
          <tbody>
            <tr>
              <td><%= no%></td>
              <td>
              <%= dataStudent.first_name%> <%= dataStudent.last_name%>
              </td>
              <% if(dataStudent.StudentSubject.score != null){%>
              <td><%= dataStudent.StudentSubject.score%></td>
              <% }else{ %>
              <td><a href="/subjects/<%= dataStudent.StudentSubject.StudentId %>/givescore">Give Score</a></td>
              <% }%>
            </tr>
          </tbody>
          <% no++ }) %>
        </table>
      </div>
    </div>
  </body>
</html>
